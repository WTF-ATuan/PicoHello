

    //計算兩物件的夾角
    float TwoObjAngel(Vector2 my, Vector2 target)
    {
        float angle = -1 * Mathf.Atan2(target.x - my.x, target.y - my.y) * Mathf.Rad2Deg;

        return angle;
    }




讓模型慢慢的轉向目標 (非LookAt 直接看目標)

Vector3 targetDir      = Target.transform.position - transform.position;

Vector3 newDir         = Vector3.RotateTowards (transform.forward, targetDir, 0.1f, 0.0F);

rotateTrans.rotation  = Quaternion.LookRotation (newDir); 

不過模型的正面要設計對  如果看得不對  模型的正面方向就必須要重新調整






計算目標位在我方的什麼角度

Vector3 relative = rotateTrans.InverseTransformPoint (Target.transform.position);

float angle = Mathf.Atan2 (relative.x, relative.z) * Mathf.Rad2Deg;



像是怪物的視野

只要他在我的正面角度 就會被怪物看到

if(angle < 45)

{

    Debug.Log("對方在我的45度角內  被我發現了  開始發動攻擊!");

}






