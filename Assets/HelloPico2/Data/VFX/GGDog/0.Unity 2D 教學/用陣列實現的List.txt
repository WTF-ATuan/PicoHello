


這是一個以Array為基礎寫的List



		//呼叫方式: 

CustomList<int> myList = new CustomList<int>(10);
myList.Add(1);
myList.Add(2);
myList.Add(3);

Debug.Log(myList.Count); // 輸出 3

myList[1] = 4;

Debug.Log(myList[1]); // 輸出 4

myList.Remove(3);

Debug.Log(myList.Count); // 輸出 2






public class CustomList<T> {
    private T[] items;
    private int count;

    public CustomList(int capacity) {
        items = new T[capacity * 2];
        count = 0;
    }

    public void Add(T item) {
        if (count == items.Length) {
            Array.Resize(ref items, items.Length * 2);
        }
        items[count] = item;
        count++;
    }

    public bool Remove(T item) {
        int index = Array.IndexOf(items, item, 0, count);
        if (index >= 0) {
            Array.Copy(items, index + 1, items, index, count - index - 1);
            count--;
            items[count] = default(T);
            return true;
        }
        return false;
    }

    public T this[int index] {
        get {
            if (index < 0 || index >= count) {
                throw new ArgumentOutOfRangeException("index");
            }
            return items[index];
        }
        set {
            if (index < 0 || index >= count) {
                throw new ArgumentOutOfRangeException("index");
            }
            items[index] = value;
        }
    }

    public int Count {
        get {
            return count;
        }
    }
}





